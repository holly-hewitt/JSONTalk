<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Mar 24 03:08:32 GMT 2023 -->
<title>CommandLine.IParameterPreprocessor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-03-24">
<meta name="description" content="declaration: package: picocli, class: CommandLine, interface: IParameterPreprocessor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CommandLine.IParameterPreprocessor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">picocli</a></div>
<h1 title="Interface CommandLine.IParameterPreprocessor" class="title">Interface CommandLine.IParameterPreprocessor</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing class:</dt>
<dd><a href="CommandLine.html" title="class in picocli">CommandLine</a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static interface </span><span class="element-name type-name-label">CommandLine.IParameterPreprocessor</span></div>
<div class="block">Options, positional parameters and commands can be assigned a <code>IParameterPreprocessor</code> that
 implements custom logic to preprocess the parameters for this option, position or command.
 When an option, positional parameter or command with a custom <code>IParameterPreprocessor</code> is matched
 on the command line, picocli's internal parser is temporarily suspended, and this custom logic is invoked.
 <p>
 This custom logic may completely replace picocli's internal parsing for this option, positional parameter
 or command, or it may do some preprocessing before picocli's internal parsing is resumed for this option,
 positional parameter or command.
 </p><p>
 The "preprocessing" can include modifying the stack of command line parameters, or modifying the model.
 </p>
 <p>This may be useful when disambiguating input for commands that have both a positional parameter and an
 option with an optional parameter.</p>
 <p>Example usage:</p>
 <pre>
 &#064;Command(name = "edit")
 class Edit {
     &#064;Parameters(index = "0", description = "The file to edit.")
     File file;

     enum Editor { defaultEditor, eclipse, idea, netbeans }

     &#064;Option(names = "--open", arity = "0..1", preprocessor = Edit.MyPreprocessor.class,
         description = {
             "Optionally specify the editor to use; if omitted the default editor is used. ",
             "Example: edit --open=idea FILE opens IntelliJ IDEA (notice the '=' separator)",
             "         edit --open FILE opens the specified file in the default editor"
         })
     Editor editor = Editor.defaultEditor;

     static class MyPreprocessor implements IParameterPreprocessor {
         public boolean preprocess(Stack&lt;String&gt; args, CommandSpec commandSpec, ArgSpec argSpec, Map&lt;String, Object&gt; info) {
             // we need to decide whether the next arg is the file to edit or the name of the editor to use...
             if (" ".equals(info.get("separator"))) { // parameter was not attached to option
                 args.push(Editor.defaultEditor.name()); // act as if the user specified --open=defaultEditor
             }
             return false; // picocli's internal parsing is resumed for this option
         }
     }
 }</pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.6</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="CommandLine.Option.html#preprocessor()"><code>CommandLine.Option.preprocessor()</code></a></li>
<li><a href="CommandLine.Parameters.html#preprocessor()"><code>CommandLine.Parameters.preprocessor()</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#preprocess(java.util.Stack,picocli.CommandLine.Model.CommandSpec,picocli.CommandLine.Model.ArgSpec,java.util.Map)" class="member-name-link">preprocess</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html" title="class or interface in java.util" class="external-link">Stack</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;args,
 <a href="CommandLine.Model.CommandSpec.html" title="class in picocli">CommandLine.Model.CommandSpec</a>&nbsp;commandSpec,
 <a href="CommandLine.Model.ArgSpec.html" title="class in picocli">CommandLine.Model.ArgSpec</a>&nbsp;argSpec,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;info)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called when either the command, option or positional parameter that has this preprocessor configured was
 recognized by the picocli parser.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="preprocess(java.util.Stack,picocli.CommandLine.Model.CommandSpec,picocli.CommandLine.Model.ArgSpec,java.util.Map)">
<h3>preprocess</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">preprocess</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html" title="class or interface in java.util" class="external-link">Stack</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;args,
 <a href="CommandLine.Model.CommandSpec.html" title="class in picocli">CommandLine.Model.CommandSpec</a>&nbsp;commandSpec,
 <a href="CommandLine.Model.ArgSpec.html" title="class in picocli">CommandLine.Model.ArgSpec</a>&nbsp;argSpec,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;info)</span></div>
<div class="block">Called when either the command, option or positional parameter that has this preprocessor configured was
 recognized by the picocli parser.
 <p>Implementors are free to modify one or more of the specified command line arguments before they are
 processed by the picocli parser (or by the option's <a href="CommandLine.IParameterConsumer.html" title="interface in picocli"><code>parameter consumer</code></a>, if one is specified).
 </p><p>
 Implementors may optionally <em>consume</em> one or more of the specified command line arguments:
 a return value of <code>true</code> signals that the preprocessor consumed the parameter:
 picocli should skip further processing of this option or positional parameter,
 and the preprocessor implementation takes responsibility for assigning the
 option or positional parameter a value. A return value of <code>false</code> means that picocli should
 process the stack as usual for this option or positional parameter, and picocli is responsible for
 assigning this option or positional parameter a value.
 </p><p>
 For a command, returning <code>true</code> signals that the preprocessor takes responsibility for parsing all
 options and positional parameters for this command, and takes responsibility for validating constraints like
 whether all required options and positional parameters were specified.
 A return value of <code>false</code> means that picocli should
 process the stack as usual for this command, and picocli is responsible for validation.
 Command preprocessors can signal back to the picocli parser when they detect that the user requested version
 information or usage help by putting a value of <code>true</code> in the specified
 <code>info</code> map for keys <code>versionHelpRequested</code> or <code>usageHelpRequested</code>, respectively.
 </p><p>
 If the user input is invalid, implementations should throw a <a href="CommandLine.ParameterException.html" title="class in picocli"><code>CommandLine.ParameterException</code></a>
 with a message to display to the user.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>args</code> - the remaining command line arguments that follow the matched argument
           (the matched argument is not on the stack anymore)</dd>
<dd><code>commandSpec</code> - the command or subcommand that was matched (if the specified <code>argSpec</code> is
            <code>null</code>), or the command that the matched option or positional parameter belongs to</dd>
<dd><code>argSpec</code> - the option or positional parameter for which to pre-process command line arguments
             (may be <code>null</code> when this method is called for a subcommand that was matched)</dd>
<dd><code>info</code> - a map containing additional information on the current parser state,
                including whether the option parameter was attached to the option name with
                a `=` separator, whether quotes have already been stripped off the option, etc.
             Implementations may modify this map to communicate back to the picocli parser.
             Supported values:
             <table>
               <caption>Supported values in the info Map</caption>
               <tr>
                 <th>key</th><th>valid values</th><th>type</th>
               </tr>
               <tr>
                 <td>separator</td><td>'' (empty string): attached without separator, ' ' (space): not attached, (any other string): option name was attached to option param with specified separator</td>
                 <td>java.lang.String</td>
               </tr>
               <tr>
                 <td>negated</td>
                 <td><code>true</code>: the option or positional parameter is a <a href="CommandLine.Option.html#negatable()">negated</a> option/parameter, <code>false</code>: the option or positional parameter is not a negated option/parameter</td>
                 <td>java.lang.Boolean</td>
               </tr>
               <tr>
                 <td>unquoted</td>
                 <td><code>true</code>: quotes surrounding the value have already been stripped off, <code>false</code>: quotes surrounding the value have not yet been stripped off</td>
                 <td>java.lang.Boolean</td>
               </tr>
               <tr>
                 <td>versionHelpRequested</td>
                 <td><code>true</code>: version help was requested, <code>false</code>: version help was not requested</td>
                 <td>java.lang.Boolean</td>
               </tr>
               <tr>
                 <td>usageHelpRequested</td>
                 <td><code>true</code>: usage help was requested, <code>false</code>: usage help was not requested</td>
                 <td>java.lang.Boolean</td>
               </tr>
             </table></dd>
<dt>Returns:</dt>
<dd>true if the preprocessor consumed the parameter
          and picocli should skip further processing of the stack for this option or positional parameter;
          false if picocli should continue processing the stack for this option or positional parameter</dd>
<dt>Throws:</dt>
<dd><code><a href="CommandLine.ParameterException.html" title="class in picocli">CommandLine.ParameterException</a></code> - if the user input is invalid</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
